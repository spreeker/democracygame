{% load markup %}
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title> democracy game API </title>
		<style type="text/css">
			body {
				background: #fffff0;
				font: 1em "Helvetica Neue", Verdana;
				padding: 0 0 0 25px;
			}
		</style>
	</head>
	<body>
		<h1>Democracy API Documentation</h1>
	    
        <p>
        We provide two types of resources. 
        The first are Public resources without authentication. Public Resources provide global game playing data and statistics.
        Public resources are specified as Anonymous. 
        The second type of resource are for the more interesting and privacy sensitive data and is only accible via oauth. 
        So You need to contact us to get an oauth consumer key to get you implementation / interface working with our api.
        Oauth ensures that users can protect their data and only give sites the user trusts acces their data.

            <p> Current resources </p>
            <ul>
                <li> {% url api_issues %} </li>
                <li> {% url api_users %} </li>
                <li> {% url api_multiplies %} </li>
                <li> {% url api_vote %} </li>
                <li> {% url api_sort_order "new" %} , popular, controversial  </li> 
            </ul>
            <p> 
                The URL in the resources mean you can acces a specific instance of that resource. 
                Resources which return lists of items are paginated , if you want te get the next
                page add a ?page=x to the urls where x is the number.
            </p>
            <p> As you probably have seen our api is versioned via the url
                We have made a mobile interface for this data in which you can look for example code ,
                since the source is public on git://github.com/spreeker/democracygame.git take a look
                at the api code and especialy the tests.
            </p>     

        </p>    
		{% for doc in docs %}
		
			<h3>{{ doc.name|cut:"Handler" }}:</h3>

			<p>
				{{ doc.get_doc|default:""|restructuredtext }}
			</p>
			
			<p>
				URL: <b>{{ doc.get_resource_uri_template }}</b>
                <p>
				<b>{{ doc.url }}</b>
                </p>
			</p>
			
			<p>
				Accepted methods: {% for meth in doc.allowed_methods %}<b>{{ meth }}</b>{% if not forloop.last %}, {% endif %}{% endfor %}
			</p>
					
			<dl>
				{% for method in doc.get_all_methods %}
				
					<dt>
						method <i>{{ method.name }}</i>({{ method.signature }}){% if method.stale %} <i>- inherited</i>{% else %}:{% endif %}
						
					</dt>				
										
					{% if method.get_doc %}
						<dd>
							{{ method.get_doc|default:""|restructuredtext }}
						<dd>
					{% endif %}
				
				{% endfor %}
			</dl>
		
		{% endfor %}
	</body>
</html>
